\documentclass[a4paper,oneside,12pt]{ctexart}
\usepackage{enumerate,geometry,graphicx,float,setspace,bm,mathrsfs,xcolor,varwidth,framed,amsfonts,indentfirst,fancyhdr,BOONDOX-cal,tabularx,booktabs,colortbl}
\usepackage[colorlinks,linkcolor=red,anchorcolor=blue,citecolor=blue,urlcolor=blue]{hyperref}
\usepackage[thmmarks,hyperref]{ntheorem}
\usepackage{amsmath}
\usepackage{physics}
\usepackage{listings}
\usepackage{cleveref}
\usepackage{titlesec}
\usepackage{fourier-otf}
\usepackage{minted}

\allowdisplaybreaks[4]
\onehalfspacing
\setlength{\headheight}{15pt}
\geometry{centering,left=2.54cm,right=2.54cm,top=3.18cm,bottom=3.18cm}
\newfontfamily\consolas{Consolas}
\definecolor{matlabgreen}{rgb}{0,0.5,0}
\definecolor{matlabpurple}{rgb}{0.75,0,0.75}

\newminted{c}{breaklines,linenos,autogobble,frame=lines,style=xcode}
\newmintinline{c}{breaklines,style=xcode}

\lstloadlanguages{[Visual]C++,Matlab,Python}
\lstset{
    language=[Visual]C++,
    basicstyle=\consolas,
    keywordstyle=\color{blue},
    commentstyle=\color{matlabgreen}\itshape,
    stringstyle=\color{matlabpurple}\ttfamily,
    frame=single,
    numbers=left,
    numberstyle=\tiny\consolas,
    breaklines,
    columns=flexible
}

\crefname{exercise}{题目}{题目}
\crefname{figure}{图}{图}
\crefname{table}{表}{表}
\crefname{equation}{式}{式}
\crefdefaultlabelformat{(#2#1#3)}

\newcolumntype{C}{>{\centering\arraybackslash}X}

\titleformat{\section}[block]{\Large\bfseries}{\arabic{section}.}{0pt}{}[]

{
    \theoremstyle{plain}
    \theoremheaderfont{\normalfont\bfseries}
    \theorembodyfont{\kaishu}
    \theoremseparator{.}
    \newtheorem{exercise}{习题}
}

{
    \theoremstyle{nonumberplain}
    \theoremheaderfont{\bfseries}
    \theorembodyfont{\normalfont}
    \newtheorem{solution}{解答.}
}

\newcommand{\pr}{\mathbb{P}}
\newcommand{\E}{\mathbb{E}}
\renewcommand{\phi}{\varphi}
\renewcommand{\epsilon}{\varepsilon}
\renewcommand{\emptyset}{\varnothing}
\renewcommand{\liminf}{\varliminf}
\renewcommand{\limsup}{\varlimsup}

\begin{document}
    \begin{titlepage}
        \thispagestyle{fancy}
        \fancyfoot[C]{}
        \begin{center}
            \bfseries\zihao{-0}
            自然语言处理及应用
            
            实验报告
        \end{center}

        {
            \noindent\color[RGB]{200,22,30}\rule{\textwidth}{3pt}\\
            \rule[1.25em]{\textwidth}{0.75pt}
        }
        \vfill
        \begin{figure}[H]
            \centering
            \includegraphics[scale=0.4]{logo.png}
            \label{fig:logo}
        \end{figure}
        \vfill
        \begin{table}[H]
            \label{tab:报告人信息}
            \centering
            \LARGE
            \renewcommand{\arraystretch}{1.5}
            \setlength{\doublerulesep}{0pt}
            \arrayrulecolor[RGB]{200,22,30}
            \begin{tabularx}{\textwidth}{p{2cm}C}
                \textbf{名称} & \texttt{}\\
                \cmidrule{2-2}\morecmidrules\cmidrule{2-2}
                \textbf{姓名} & \texttt{孙思雨\quad 张卓立}\\
                \cmidrule{2-2}\morecmidrules\cmidrule{2-2}
                \textbf{班级} & \texttt{强基数学002\quad 强基数学001}\\
                \cmidrule{2-2}\morecmidrules\cmidrule{2-2}
                \textbf{学号} & \texttt{2206124483\quad 2204110786}\\
                \cmidrule{2-2}\morecmidrules\cmidrule{2-2}
                \textbf{日期} & \texttt{\today}\\
                \cmidrule{2-2}\morecmidrules\cmidrule{2-2}
            \end{tabularx}
        \end{table}
        \vfill
    \end{titlepage}
    \pagestyle{fancy}
    \fancyhead[C]{自然语言处理及应用实验报告}
    \fancyhead[L]{}
    \fancyhead[R]{}
    \section{实验要求}
 
    \section{实验环境}

    \section{实验思路}

    \section{实验结果}

    \section{实验总结}

    \begin{ccode}
        #include <iostream>
        #include <cstring>
        using namespace std;
        const int N = 1e4 + 10;
        char s1[N], s2[N];
        int dp[N][N], op[N][N], w[3];
        string optName[] = { "none", "del", "add", "chg" }, nowString;
        int delta = 0;
        void df(int i, int j, int o) {
            if (op[i][j] == 0) df(i - 1, j - 1, 0);
            else if (op[i][j] == 1) df(i - 1, j, 1);
            else if (op[i][j] == 2) df(i, j - 1, 2);
            else if (op[i][j] == 3) df(i - 1, j - 1, 3);
            if (o != 0) {
                if (o == 1) nowString.erase(i + delta, 1), delta--;
                else if (o == 2) nowString.insert(i + delta, 1, s2[j]), delta++;
                else nowString[i + delta] = s2[j];
                cout << optName[o] << ": " << nowString << '\n';
            }
        }
        signed main() {
            memset(dp, 127, sizeof(dp));
            memset(op, -1, sizeof(op));
            cin >> s1 >> s2;
            cin >> w[0] >> w[1] >> w[2];
            int len1 = strlen(s1), len2 = strlen(s2);
            for (int i = 0; i <= max(len1, len2); i++) dp[0][i] = i * w[1], dp[i][0] = i * w[0];
            for (int i = 1; i <= len1; i++) {
                for (int j = 1; j <= len2; j++) {
                    if (s1[i - 1] == s2[j - 1]) {
                        op[i][j] = 0;
                        dp[i][j] = dp[i - 1][j - 1];
                        continue;
                    }
                    int tmp[] = { dp[i - 1][j], dp[i][j - 1], dp[i - 1][j - 1] }, mn = 1e9, mnId;
                    for (int k = 0; k < 3; k++) {
                        if (tmp[k] < mn) {
                            mn = tmp[k] + w[k];
                            mnId = k;
                        }
                    }
                    dp[i][j] = mn;
                    op[i][j] = mnId + 1;
                }
            }
            printf("minimal weight: %d\n", dp[len1][len2]);
            nowString = string(s1);
            cout << "s1:  " << nowString << '\n';
            df(len1, len2, 0);
            system("pause");
            return 0;
        }
        
        #if 0
        输入
        sdfghnbf
        srtggnf
        2 3 2
        输出
        minimal weight : 8
        s1 : sdfghnbf
        chg : srfghnbf
        chg : srtghnbf
        chg : srtggnbf
        del : srtggnf
        结果中 del 表示删除字符,add 表示添加字符,chg 表示替换字符
        #endif
    \end{ccode}

    \cinline/#include<iostream>;/

\end{document}

