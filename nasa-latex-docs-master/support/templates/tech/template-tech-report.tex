%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% TEMPLATE: Insert the AIAA document parameters - provided by the user
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{template-tech-format}

% Enable various page flags
\docTOC[true]
\docLOF[true]
\docLOT[true]
\docLOL[true]
\docLOA[true]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% SECTION: Create all the front matter prior to user content
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\AtBeginDocument{

   % Add a PDF bookmark in PDF viewer for all of front matter
   \pdfbookmark[1]{Front Matter}{front}

   \frontmatter

   % Add cover sheet only if defined
   \ifdefstring{\@docCoverSheet}{}{}{\toggletrue{addCoverPage}}
   \ifdefstring{\@docCUICoverSheet}{}{}{\toggletrue{addCoverPage}}
   \iftoggle{addCoverPage}{
      \newpage \clearpage \thispagestyle{empty}
      \addtocounter{page}{-2}
      \printCoverPage
      \newpage \clearpage \thispagestyle{empty}
   }{ 
      \newpage \clearpage \thispagestyle{empty}
      \addtocounter{page}{-1}
   }

   \phantomsection
   \pdfbookmark[2]{Title Page}{titlepage}
   \TitlePageGeometry

   % Add CUI header
   \begin{center}
      \printCUIMarkings
   \end{center}

   % Create graphics at the top of the page
   \begin{minipage}{0.25\textwidth}
      \begin{flushleft}
         \ifdefstring{\@docLogo}{}{}{\includegraphics[height=1in]{\@docLogo}}
      \end{flushleft}
   \end{minipage}%
   \begin{minipage}{0.7\textwidth}
      \centering\textbf{\Large \@docTypeTitle \\ \vspace{6pt} Technical Report}
   \end{minipage}%

   \vspace{\baselineskip}
   {\color{black}\hrule height 2pt}

   \vspace{0.5in}

   \raggedright
   
   \begin{flushleft}
      \textbf{\Large \@docTitle} 
      \setstretch{1.5}
   \end{flushleft}

   \vspace{24pt}

   \ifdefstring{\@docNumber}{}{}{\textit{\large Document Number: \@docNumber}}   

   \vspace{1in}

   \ifdefstring{\@docVersion}{}{}{\textbf{\large Version: \@docVersion}}   
   
   \vspace{12pt}  
   
   {\large \@docDate}

    % fill in empty space
   \vfill

   \ifdefstring{\@docOrgLogo}{}{}{\includegraphics[height=1in]{\@docOrgLogo}} 

   \vspace{-6pt}

   \begin{flushleft}

      \setlength{\parskip}{0pt}

      \@docOrganization

   \end{flushleft}

   \vspace{0.1in} 

   \begin{center}
      \printExportFooter
   \end{center}

   \vspace{0.15in} 

   % Change the geometry back
   \restoregeometry

   % Print the export control information section
   \printExport

   % Print the revision log page
   \printRevisionLog

   % Print executive summary
   \printExecutiveSummary

   % Print author page
   \printAuthorPage

   % Print contributor page
   \printContributorPage

   % Print the signature page
   \printApproverPage

   % Create the Table of Contents
   \printTOC

   % Create the List of Tables
   \printLOT

   % Create the List of Figures
   \printLOF

   % Create the List of Listings
   \printLOL

   % Create the List of Acronyms
   \printLOA

   % Create the Nomenclature definition section
   \printNomenclature

   % remove padding to row height as to no affect other tables
   \setlength\extrarowheight{0pt} 

   \mainmatter

   % Make all text justified and normalsize
   \justifying\normalsize

   % Set paragraph indent to zero
   \setlength{\parindent}{0pt}

}